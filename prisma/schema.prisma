// This is your Prisma schema file,
// learn more about it in the docs: https://pris.ly/d/prisma-schema

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "sqlite"
  url      = env("DATABASE_URL")
}

// model User {
//   id    Int     @id @default(autoincrement())
//   email String  @unique
//   name  String?
//   posts Post[]
// }

// model Post {
//   id        Int     @id @default(autoincrement())
//   title     String
//   content   String?
//   published Boolean @default(false)
//   author    User    @relation(fields: [authorId], references: [id])
//   authorId  Int
// }

model MainCategory {
  id            Int     @id @default(autoincrement())
  name          String  @unique
  subcategories SubCategory[]
}

model SubCategory {
  id              Int     @id @default(autoincrement())
  name            String  @unique
  mainCategory    MainCategory @relation(fields: [mainCategoryId], references: [id])
  mainCategoryId  Int
  assets          Asset[]
}

model Asset {
  id              Int         @id @default(autoincrement())
  name            String      @unique
  subCategory     SubCategory @relation(fields: [subCategoryId], references: [id])
  subCategoryId   Int
  accountRows     AccountRow[]
}

model Account {
  id              Int         @id @default(autoincrement())
  name            String      @unique
  accountRows     AccountRow[]
}

model AccountRow {
  id        Int   @id @default(autoincrement())
  qty       Int     
  asset     Asset @relation(fields: [assetId], references: [id])
  assetId   Int

  account   Account @relation(fields: [accountId], references: [id])
  accountId Int
}